<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>systemd-cgtop</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><style>
    a.headerlink {
      color: #c60f0f;
      font-size: 0.8em;
      padding: 0 4px 0 4px;
      text-decoration: none;
      visibility: hidden;
    }

    a.headerlink:hover {
      background-color: #c60f0f;
      color: white;
    }

    h1:hover > a.headerlink, h2:hover > a.headerlink, h3:hover > a.headerlink, dt:hover > a.headerlink {
      visibility: visible;
    }
  </style><a href="index.html">Index </a>·
  <a href="systemd.directives.html">Directives </a>·
  <a href="../python-systemd/index.html">Python </a>·

  <span style="float:right">systemd 221</span><hr><div class="refentry"><a name="systemd-cgtop"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>systemd-cgtop — Show top control groups by their resource usage</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">systemd-cgtop</code>  [OPTIONS...]</p></div></div><div class="refsect1"><a name="idm47663115852304"></a><h2 id="Description">Description<a class="headerlink" title="Permalink to this headline" href="#Description">¶</a></h2><p><span class="command"><strong>systemd-cgtop</strong></span> shows the top control
    groups of the local Linux control group hierarchy, ordered by
    their CPU, memory, or disk I/O load. The display is refreshed in
    regular intervals (by default every 1s), similar in style to
    <a href="http://man7.org/linux/man-pages/man1/top.1.html"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.</p><p>If <span class="command"><strong>systemd-cgtop</strong></span> is not connected to a tty, no
    column headers are printed and the default is to only run one iteration.
    The <code class="varname">--iterations</code> argument, if given, is still honored.
    This mode is suitable for scripting.</p><p>Resource usage is only accounted for control groups in the
    relevant hierarchy, i.e. CPU usage is only accounted for control
    groups in the "<code class="literal">cpuacct</code>" hierarchy, memory usage
    only for those in "<code class="literal">memory</code>" and disk I/O usage for
    those in "<code class="literal">blkio</code>". If resource monitoring for
    these resources is required, it is recommended to add the
    <code class="varname">CPUAccounting=1</code>,
    <code class="varname">MemoryAccounting=1</code> and
    <code class="varname">BlockIOAccounting=1</code> settings in the unit files
    in question. See
    <a href="systemd.resource-control.html"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>
    for details.</p><p>The CPU load value can be between 0 and 100 times the number of
    processors the system has. For example, if the system has 8 processors,
    the CPU load value is going to be between 0% and 800%. The number of
    processors can be found in "<code class="literal">/proc/cpuinfo</code>".</p><p>To emphasize this: unless
    "<code class="literal">CPUAccounting=1</code>",
    "<code class="literal">MemoryAccounting=1</code>" and
    "<code class="literal">BlockIOAccounting=1</code>" are enabled for the
    services in question, no resource accounting will be available for
    system services and the data shown by
    <span class="command"><strong>systemd-cgtop</strong></span> will be incomplete.</p></div><div class="refsect1"><a name="idm47663110885584"></a><h2 id="Options">Options<a class="headerlink" title="Permalink to this headline" href="#Options">¶</a></h2><p>The following options are understood:</p><div class="variablelist"><dl class="variablelist"><dt id="-p"><span class="term"><code class="option">-p</code></span><a class="headerlink" title="Permalink to this term" href="#-p">¶</a></dt><dd><p>Order by control group
        path name.</p></dd><dt id="-t"><span class="term"><code class="option">-t</code></span><a class="headerlink" title="Permalink to this term" href="#-t">¶</a></dt><dd><p>Order by number of tasks in control group
        (i.e. threads and processes).</p></dd><dt id="-c"><span class="term"><code class="option">-c</code></span><a class="headerlink" title="Permalink to this term" href="#-c">¶</a></dt><dd><p>Order by CPU load.</p></dd><dt id="-m"><span class="term"><code class="option">-m</code></span><a class="headerlink" title="Permalink to this term" href="#-m">¶</a></dt><dd><p>Order by memory usage.</p></dd><dt id="-i"><span class="term"><code class="option">-i</code></span><a class="headerlink" title="Permalink to this term" href="#-i">¶</a></dt><dd><p>Order by disk I/O load.</p></dd><dt id="-b"><span class="term"><code class="option">-b</code>, </span><span class="term"><code class="option">--batch</code></span><a class="headerlink" title="Permalink to this term" href="#-b">¶</a></dt><dd><p>Run in "batch" mode: do not accept input and
        run until the iteration limit set with
        <code class="option">--iterations</code> is exhausted or until killed.
        This mode could be useful for sending output from
        <span class="command"><strong>systemd-cgtop</strong></span> to other programs or to a
        file.</p></dd><dt id="-r"><span class="term"><code class="option">-r</code>, </span><span class="term"><code class="option">--raw</code></span><a class="headerlink" title="Permalink to this term" href="#-r">¶</a></dt><dd><p>Format byte counts (as in memory usage and IO metrics)
	with raw numeric values rather than human-readable
        numbers.</p></dd><dt id="-n"><span class="term"><code class="option">-n</code>, </span><span class="term"><code class="option">--iterations=</code></span><a class="headerlink" title="Permalink to this term" href="#-n">¶</a></dt><dd><p>Perform only this many iterations. A value of 0
        indicates that the program should run indefinitely.</p></dd><dt id="-d"><span class="term"><code class="option">-d</code>, </span><span class="term"><code class="option">--delay=</code></span><a class="headerlink" title="Permalink to this term" href="#-d">¶</a></dt><dd><p>Specify refresh delay in seconds (or if one of
        "<code class="literal">ms</code>",
        "<code class="literal">us</code>",
        "<code class="literal">min</code>" is specified as unit in this time
        unit).</p></dd><dt id="--depth="><span class="term"><code class="option">--depth=</code></span><a class="headerlink" title="Permalink to this term" href="#--depth=">¶</a></dt><dd><p>Maximum control group tree traversal depth.
        Specifies how deep <span class="command"><strong>systemd-cgtop</strong></span> shall
        traverse the control group hierarchies. If 0 is specified,
        only the root group is monitored. For 1, only the first level
        of control groups is monitored, and so on. Defaults to
        3.</p></dd><dt id="-h"><span class="term"><code class="option">-h</code>, </span><span class="term"><code class="option">--help</code></span><a class="headerlink" title="Permalink to this term" href="#-h">¶</a></dt><dd><p><a name="help-text"></a>Print a short help text and exit.
    </p></dd><dt id="--version"><span class="term"><code class="option">--version</code></span><a class="headerlink" title="Permalink to this term" href="#--version">¶</a></dt><dd><p><a name="version-text"></a>Print a short version string and exit.</p></dd></dl></div></div><div class="refsect1"><a name="idm47663110862208"></a><h2 id="Keys">Keys<a class="headerlink" title="Permalink to this headline" href="#Keys">¶</a></h2><p><span class="command"><strong>systemd-cgtop</strong></span> is an interactive tool and
    may be controlled via user input using the following keys:</p><div class="variablelist"><dl class="variablelist"><dt id="h"><span class="term">h</span><a class="headerlink" title="Permalink to this term" href="#h">¶</a></dt><dd><p>Shows a short help text.</p></dd><dt id="SPACE"><span class="term">SPACE</span><a class="headerlink" title="Permalink to this term" href="#SPACE">¶</a></dt><dd><p>Immediately refresh output.</p></dd><dt id="q"><span class="term">q</span><a class="headerlink" title="Permalink to this term" href="#q">¶</a></dt><dd><p>Terminate the program.</p></dd><dt id="p"><span class="term">p, </span><span class="term">t, </span><span class="term">c, </span><span class="term">m, </span><span class="term">i</span><a class="headerlink" title="Permalink to this term" href="#p">¶</a></dt><dd><p>Sort the control groups by path, number of
        tasks, CPU load, memory usage, or IO load, respectively.
        </p></dd><dt id="%"><span class="term">%</span><a class="headerlink" title="Permalink to this term" href="#%">¶</a></dt><dd><p>Toggle between showing CPU time as time or
        percentage.</p></dd><dt id="+"><span class="term">+, </span><span class="term">-</span><a class="headerlink" title="Permalink to this term" href="#+">¶</a></dt><dd><p>Increase or decrease refresh delay,
        respectively.</p></dd></dl></div></div><div class="refsect1"><a name="idm47663110850336"></a><h2 id="Exit status">Exit status<a class="headerlink" title="Permalink to this headline" href="#Exit%20status">¶</a></h2><p>On success, 0 is returned, a non-zero failure code
    otherwise.</p></div><div class="refsect1"><a name="idm47663110849184"></a><h2 id="See Also">See Also<a class="headerlink" title="Permalink to this headline" href="#See%20Also">¶</a></h2><p>
      <a href="systemd.html"><span class="citerefentry"><span class="refentrytitle">systemd</span>(1)</span></a>,
      <a href="systemctl.html"><span class="citerefentry"><span class="refentrytitle">systemctl</span>(1)</span></a>,
      <a href="systemd-cgls.html"><span class="citerefentry"><span class="refentrytitle">systemd-cgls</span>(1)</span></a>,
      <a href="systemd.resource-control.html"><span class="citerefentry"><span class="refentrytitle">systemd.resource-control</span>(5)</span></a>,
      <a href="http://man7.org/linux/man-pages/man1/top.1.html"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>
    </p></div></div></body></html>
